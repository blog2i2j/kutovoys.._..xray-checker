---
title: Методы проверки
description: Параметры и примеры методов проверки
---

Xray Checker поддерживает три метода проверки функциональности прокси:

### Метод проверки IP (По умолчанию)

```bash
--proxy-check-method=ip
```

Этот метод:

1. Получает текущий IP без прокси
2. Подключается через прокси
3. Получает IP через прокси
4. Сравнивает IP-адреса для проверки работы прокси

Преимущества:

- Более надежная проверка
- Подтверждает реальную функциональность прокси
- Обнаруживает прозрачные прокси

Конфигурация:

```bash
PROXY_CHECK_METHOD=ip
PROXY_IP_CHECK_URL=https://api.ipify.org?format=text
PROXY_TIMEOUT=30
```

### Метод проверки статуса

```bash
--proxy-check-method=status
```

Этот метод:

1. Подключается через прокси
2. Запрашивает указанный URL
3. Проверяет код состояния ответа

Преимущества:

- Более быстрая проверка
- Меньшее использование трафика
- Работает с ограничивающими брандмауэрами

Конфигурация:

```bash
PROXY_CHECK_METHOD=status
PROXY_STATUS_CHECK_URL=http://cp.cloudflare.com/generate_204
PROXY_TIMEOUT=30
```

### Метод проверки скачивания

```bash
--proxy-check-method=download
```

Этот метод:

1. Подключается через прокси
2. Скачивает указанный файл
3. Проверяет завершение скачивания или минимальный порог размера

Преимущества:

- Тестирует реальную передачу данных через прокси
- Проверяет производительность прокси с реальными скачиваниями файлов
- Настраиваемые критерии успеха (минимальный размер скачивания)
- Однопоточное скачивание в одном TCP-соединении

Конфигурация:

```bash
PROXY_CHECK_METHOD=download
PROXY_DOWNLOAD_URL=https://proof.ovh.net/files/1Mb.dat
PROXY_DOWNLOAD_TIMEOUT=60
PROXY_DOWNLOAD_MIN_SIZE=51200
```

Проверка считается успешной если:

- Файл полностью скачан, ИЛИ
- Скачано минимум указанное количество байт

Этот метод идеален для тестирования производительности прокси с реальными передачами файлов и обеспечения способности прокси обрабатывать устойчивые соединения передачи данных.
